generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"  // Was "sqlite"
  url      = env("DATABASE_URL")
}

model Parcel {
  id             Int      @id @default(autoincrement())
  trackingNumber String   @unique
  origin         String
  destination    String
  status         String   @default("PENDING")
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  // Optional fields for enriched info
  courierCode    String? 
  orderNumber    String? 
  customerName   String? 
  customerEmail  String? 
  weight         Float? 

  events         ParcelEvent[]
}


model ParcelEvent {
  id          Int      @id @default(autoincrement())
  parcelId    Int
  location    String
  description String
  status      String
  timestamp   DateTime @default(now())

  parcel      Parcel   @relation(fields: [parcelId], references: [id], onDelete: Cascade)
}

